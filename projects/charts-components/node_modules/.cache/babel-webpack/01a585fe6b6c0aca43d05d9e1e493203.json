{"ast":null,"code":"import _asyncToGenerator from \"C:/projects/own-npm/charts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { EventEmitter } from '@angular/core';\nimport { Forger } from \"@artstesh/forger\";\nimport { XLinearAxisComponent } from \"./x-linear-axis.component\";\nimport { MockBuilder, MockProvider, MockRender } from \"ng-mocks\";\nimport { ChartModule } from \"../../../../chart.module\";\nimport { instance, mock, reset, when } from \"ts-mockito\";\nimport { ChartAxisLimitService } from \"../../../../services/chart-axis-limit.service\";\nimport { should } from \"@artstesh/it-should\";\nimport { ChartPlateService } from \"../../../services/chart-plate.service\";\ndescribe('#chart-elements XLinearAxisComponent', () => {\n  let fixture;\n  const limitService = mock(ChartAxisLimitService);\n  const plateService = mock(ChartPlateService);\n  let chartInitialized$;\n  beforeEach( /*#__PURE__*/_asyncToGenerator(function* () {\n    chartInitialized$ = new EventEmitter();\n    when(plateService.chartInitialized).thenReturn(chartInitialized$);\n    return MockBuilder(XLinearAxisComponent, ChartModule).provide(MockProvider(ChartAxisLimitService, instance(limitService)));\n  }));\n  beforeEach(() => {\n    fixture = MockRender(XLinearAxisComponent);\n    fixture.detectChanges();\n  });\n  afterEach(() => {\n    reset(limitService);\n    reset(plateService);\n    expect().nothing();\n  });\n  it('should create', () => {\n    expect(fixture.componentInstance).toBeTruthy();\n  });\n  it('should add the axis on chartInitialized', () => {\n    instance(chartPlate).chart.options.scales = {}; //\n\n    chartInitialized$.next();\n    fixture.detectChanges(); //\n\n    expect(instance(chartPlate).chart?.options?.scales?.[XLinearAxisComponent.id]).toBeTruthy();\n  });\n  it('should update chart on chartInitialized', () => {\n    instance(chartPlate).chart.options.scales = {}; //\n\n    chartInitialized$.next();\n    fixture.detectChanges(); //\n\n    expect(instance(chartPlate).updateChart).toHaveBeenCalledTimes(1);\n  });\n  it('should add the grid display property', () => {\n    instance(chartPlate).chart.options.scales = {}; //\n\n    fixture.componentInstance._settings.displayGrid = true;\n    chartInitialized$.next();\n    fixture.detectChanges(); //\n\n    const gridProp = instance(chartPlate).chart?.options?.scales?.[XLinearAxisComponent.id]?.grid;\n    expect(gridProp?.display).toBe(fixture.componentInstance._settings.displayGrid);\n  });\n  it('no min & max restrictions by default', () => {\n    instance(chartPlate).chart.options.scales = {}; //\n\n    chartInitialized$.next();\n    fixture.detectChanges(); //\n\n    expect(instance(chartPlate).chart.options.scales?.[XLinearAxisComponent.id]?.min).not.toBeTruthy();\n    expect(instance(chartPlate).chart.options.scales?.[XLinearAxisComponent.id]?.max).not.toBeTruthy();\n  });\n  it('should add the min property', () => {\n    instance(chartPlate).chart.options.scales = {};\n    const updateModel = {\n      minX: Forger.create({}, 1, {\n        \"type\": 6\n      }),\n      maxX: Forger.create({}, 1, {\n        \"type\": 6\n      })\n    }; //\n\n    fixture.detectChanges(); //\n\n    should().true(false);\n  });\n});","map":{"version":3,"sources":["C:\\projects\\own-npm\\charts\\projects\\charts-components\\src\\chart\\chart-plate\\chart-elements\\axes\\x-linear-axis\\x-linear-axis.component.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import { ComponentFixture, TestBed } from '@angular/core/testing';\nimport { EventEmitter } from '@angular/core';\nimport {Forger} from \"@artstesh/forger\";\nimport {ReplaySubject} from \"rxjs\";\nimport { XLinearAxisComponent } from \"./x-linear-axis.component\";\nimport { DateRangeModel } from \"../../../../models\";\nimport { ChartPlateComponent } from \"../../../chart-plate.component\";\nimport { MockBuilder, MockProvider, MockRender } from \"ng-mocks\";\nimport { ChartModule } from \"../../../../chart.module\";\nimport { instance, mock, reset, when } from \"ts-mockito\";\nimport { ChartAxisLimitService } from \"../../../../services/chart-axis-limit.service\";\nimport { should } from \"@artstesh/it-should\";\nimport { ChartPlateService } from \"../../../services/chart-plate.service\";\n\ndescribe('#chart-elements XLinearAxisComponent', () => {\n  let fixture: ComponentFixture<XLinearAxisComponent>;\n  const limitService = mock(ChartAxisLimitService);\n  const plateService = mock(ChartPlateService);\n  let chartInitialized$: EventEmitter<any>;\n\n  beforeEach(async () => {\n    chartInitialized$ = new EventEmitter();\n    when(plateService.chartInitialized).thenReturn(chartInitialized$);\n    return MockBuilder(XLinearAxisComponent, ChartModule)\n      .provide(MockProvider(ChartAxisLimitService, instance(limitService)));\n  });\n\n  beforeEach(() => {\n    fixture = MockRender(XLinearAxisComponent);\n    fixture.detectChanges();\n  });\n\n  afterEach(() => {\n    reset(limitService);\n    reset(plateService);\n    expect().nothing();\n  })\n\n  it('should create', () => {\n    expect(fixture.componentInstance).toBeTruthy();\n  });\n\n  it('should add the axis on chartInitialized', () => {\n    instance(chartPlate).chart.options.scales = {};\n    //\n    chartInitialized$.next();\n    fixture.detectChanges();\n    //\n    expect(instance(chartPlate).chart?.options?.scales?.[XLinearAxisComponent.id]).toBeTruthy();\n  });\n\n  it('should update chart on chartInitialized', () => {\n    instance(chartPlate).chart.options.scales = {};\n    //\n    chartInitialized$.next();\n    fixture.detectChanges();\n    //\n    expect(instance(chartPlate).updateChart).toHaveBeenCalledTimes(1);\n  });\n\n  it('should add the grid display property', () => {\n    instance(chartPlate).chart.options.scales = {};\n    //\n    fixture.componentInstance._settings.displayGrid = true;\n    chartInitialized$.next();\n    fixture.detectChanges();\n    //\n    const gridProp = instance(chartPlate).chart?.options?.scales?.[XLinearAxisComponent.id]?.grid;\n    expect(gridProp?.display).toBe(fixture.componentInstance._settings.displayGrid);\n  });\n\n  it('no min & max restrictions by default', () => {\n    instance(chartPlate).chart.options.scales = {};\n    //\n    chartInitialized$.next();\n    fixture.detectChanges();\n    //\n    expect(instance(chartPlate).chart.options.scales?.[XLinearAxisComponent.id]?.min).not.toBeTruthy();\n    expect(instance(chartPlate).chart.options.scales?.[XLinearAxisComponent.id]?.max).not.toBeTruthy();\n  });\n\n  it('should add the min property', () => {\n    instance(chartPlate).chart.options.scales = {};\n    const updateModel: DateRangeModel = {minX: Forger.create<number>()!, maxX: Forger.create<number>()!};\n    //\n    fixture.detectChanges();\n    //\n    should().true(false);\n  });\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}