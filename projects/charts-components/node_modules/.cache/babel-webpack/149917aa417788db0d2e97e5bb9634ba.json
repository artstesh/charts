{"ast":null,"code":"import _asyncToGenerator from \"C:/projects/own-npm/charts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { EventEmitter } from '@angular/core';\nimport { Forger } from \"@artstesh/forger\";\nimport { XLinearAxisComponent } from \"./x-linear-axis.component\";\nimport { ChartPlateComponent } from \"../../../chart-plate.component\";\nimport { MockBuilder, MockProvider, MockRender } from \"ng-mocks\";\nimport { ChartModule } from \"../../../../chart.module\";\nimport { instance, mock, reset, when } from \"ts-mockito\";\nimport { ChartAxisLimitService } from \"../../../../services/chart-axis-limit.service\";\nimport { should } from \"@artstesh/it-should\";\ndescribe('#chart-elements XLinearAxisComponent', () => {\n  let fixture;\n  const limitService = mock(ChartAxisLimitService);\n  const chartPlate = mock(ChartPlateComponent);\n  let chartInitialized$;\n  beforeEach( /*#__PURE__*/_asyncToGenerator(function* () {\n    chartInitialized$ = new EventEmitter();\n    const chartStub = jasmine.createSpyObj(['update', 'data', 'options']);\n    when(chartPlate.chartInitialized).thenReturn(chartInitialized$);\n    when(chartPlate.chart).thenReturn(chartStub);\n    return MockBuilder(XLinearAxisComponent, ChartModule).mock(ChartAxisLimitService, instance(limitService)).provide(MockProvider(ChartPlateComponent, instance(chartPlate)));\n  }));\n  beforeEach(() => {\n    fixture = MockRender(XLinearAxisComponent);\n    fixture.detectChanges();\n  });\n  afterEach(() => {\n    reset(limitService);\n    expect().nothing();\n  });\n  it('should create', () => {\n    expect(fixture.componentInstance).toBeTruthy();\n  });\n  it('should add the axis on chartInitialized', () => {\n    var _a, _b, _c;\n\n    instance(chartPlate).chart.options.scales = {}; //\n\n    instance(chartPlate).chartInitialized.next();\n    fixture.detectChanges(); //\n\n    expect((_c = (_b = (_a = instance(chartPlate).chart) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.scales) === null || _c === void 0 ? void 0 : _c[XLinearAxisComponent.id]).toBeTruthy();\n  });\n  it('should update chart on chartInitialized', () => {\n    instance(chartPlate).chart.options.scales = {}; //\n\n    instance(chartPlate).chartInitialized.next();\n    fixture.detectChanges(); //\n\n    expect(instance(chartPlate).updateChart).toHaveBeenCalledTimes(1);\n  });\n  it('should add the grid display property', () => {\n    var _a, _b, _c, _d;\n\n    instance(chartPlate).chart.options.scales = {}; //\n\n    fixture.componentInstance._settings.displayGrid = true;\n    instance(chartPlate).chartInitialized.next();\n    fixture.detectChanges(); //\n\n    const gridProp = (_d = (_c = (_b = (_a = instance(chartPlate).chart) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.scales) === null || _c === void 0 ? void 0 : _c[XLinearAxisComponent.id]) === null || _d === void 0 ? void 0 : _d.grid;\n    expect(gridProp === null || gridProp === void 0 ? void 0 : gridProp.display).toBe(fixture.componentInstance._settings.displayGrid);\n  });\n  it('no min & max restrictions by default', () => {\n    var _a, _b, _c, _d;\n\n    instance(chartPlate).chart.options.scales = {}; //\n\n    chartInitialized$.next();\n    fixture.detectChanges(); //\n\n    expect((_b = (_a = instance(chartPlate).chart.options.scales) === null || _a === void 0 ? void 0 : _a[XLinearAxisComponent.id]) === null || _b === void 0 ? void 0 : _b.min).not.toBeTruthy();\n    expect((_d = (_c = instance(chartPlate).chart.options.scales) === null || _c === void 0 ? void 0 : _c[XLinearAxisComponent.id]) === null || _d === void 0 ? void 0 : _d.max).not.toBeTruthy();\n  });\n  it('should add the min property', () => {\n    instance(chartPlate).chart.options.scales = {};\n    const updateModel = {\n      minX: Forger.create({}, 1, {\n        \"type\": 6\n      }),\n      maxX: Forger.create({}, 1, {\n        \"type\": 6\n      })\n    }; //\n\n    fixture.detectChanges(); //\n\n    should().true(false);\n  });\n});","map":{"version":3,"sources":["C:\\projects\\own-npm\\charts\\projects\\charts-components\\src\\chart\\chart-plate\\chart-elements\\axes\\x-linear-axis\\x-linear-axis.component.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import { ComponentFixture, TestBed } from '@angular/core/testing';\nimport { EventEmitter } from '@angular/core';\nimport {Forger} from \"@artstesh/forger\";\nimport {ReplaySubject} from \"rxjs\";\nimport { XLinearAxisComponent } from \"./x-linear-axis.component\";\nimport { DateRangeModel } from \"../../../../models\";\nimport { ChartPlateComponent } from \"../../../chart-plate.component\";\nimport { MockBuilder, MockProvider, MockRender } from \"ng-mocks\";\nimport { ChartModule } from \"../../../../chart.module\";\nimport { instance, mock, reset, when } from \"ts-mockito\";\nimport { ChartAxisLimitService } from \"../../../../services/chart-axis-limit.service\";\nimport { should } from \"@artstesh/it-should\";\n\ndescribe('#chart-elements XLinearAxisComponent', () => {\n  let fixture: ComponentFixture<XLinearAxisComponent>;\n  const limitService = mock(ChartAxisLimitService);\n  const chartPlate = mock(ChartPlateComponent);\n  let chartInitialized$: EventEmitter<any>;\n\n  beforeEach(async () => {\n    chartInitialized$ = new EventEmitter();\n    const chartStub = jasmine.createSpyObj(['update', 'data', 'options']);\n    when(chartPlate.chartInitialized).thenReturn(chartInitialized$);\n    when(chartPlate.chart).thenReturn(chartStub);\n    return MockBuilder(XLinearAxisComponent, ChartModule)\n      .mock(ChartAxisLimitService, instance(limitService))\n      .provide(MockProvider(ChartPlateComponent, instance(chartPlate)));\n  });\n\n  beforeEach(() => {\n    fixture = MockRender(XLinearAxisComponent);\n    fixture.detectChanges();\n  });\n\n  afterEach(() => {\n    reset(limitService);\n    expect().nothing();\n  })\n\n  it('should create', () => {\n    expect(fixture.componentInstance).toBeTruthy();\n  });\n\n  it('should add the axis on chartInitialized', () => {\n    instance(chartPlate).chart.options.scales = {};\n    //\n    instance(chartPlate).chartInitialized.next();\n    fixture.detectChanges();\n    //\n    expect(instance(chartPlate).chart?.options?.scales?.[XLinearAxisComponent.id]).toBeTruthy();\n  });\n\n  it('should update chart on chartInitialized', () => {\n    instance(chartPlate).chart.options.scales = {};\n    //\n    instance(chartPlate).chartInitialized.next();\n    fixture.detectChanges();\n    //\n    expect(instance(chartPlate).updateChart).toHaveBeenCalledTimes(1);\n  });\n\n  it('should add the grid display property', () => {\n    instance(chartPlate).chart.options.scales = {};\n    //\n    fixture.componentInstance._settings.displayGrid = true;\n    instance(chartPlate).chartInitialized.next();\n    fixture.detectChanges();\n    //\n    const gridProp = instance(chartPlate).chart?.options?.scales?.[XLinearAxisComponent.id]?.grid;\n    expect(gridProp?.display).toBe(fixture.componentInstance._settings.displayGrid);\n  });\n\n  it('no min & max restrictions by default', () => {\n    instance(chartPlate).chart.options.scales = {};\n    //\n    chartInitialized$.next();\n    fixture.detectChanges();\n    //\n    expect(instance(chartPlate).chart.options.scales?.[XLinearAxisComponent.id]?.min).not.toBeTruthy();\n    expect(instance(chartPlate).chart.options.scales?.[XLinearAxisComponent.id]?.max).not.toBeTruthy();\n  });\n\n  it('should add the min property', () => {\n    instance(chartPlate).chart.options.scales = {};\n    const updateModel: DateRangeModel = {minX: Forger.create<number>()!, maxX: Forger.create<number>()!};\n    //\n    fixture.detectChanges();\n    //\n    should().true(false);\n  });\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}